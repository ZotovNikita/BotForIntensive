version: '3.1'

intents:
  - greet
  - farewell
  - registration
  - information
  - greet+registration
  - greet+information
  - problems
  - wishes
  - case
  - busy
  - start
  - out_of_scope

actions:
  - action_problems
  - action_wishes

slots:
  user_name:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: problems_form
            requested_slot: user_name
  description:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: problems_form
            requested_slot: description
  wish:
    type: text
    mappings:
      - type: from_text
        conditions:
          - active_loop: wishes_form
            requested_slot: wish
forms:
  problems_form:
    required_slots:
      - user_name
      - description
  wishes_form:
    required_slots:
      - wish

responses:
  utter_greet:
    - text: 'Приветствую! Будем рады видеть тебя на нашем интенсиве)'

  utter_farewell:
    - text: 'Всего доброго! Ждем тебя на нашем интенсиве)'

  utter_out_of_scope:
    - text: 'Я тебя не понял :( Не мог бы ты перефразировать запрос?'

  utter_registration:
    - text: 'Для регистрации на интенсив перейди по ссылке: https://b24-r2nnqi.bitrix24.site/crm_form_auqwc/'

  utter_information:
    - text: 'Узнать полную информацию об интенсиве можно по ссылке: https://pei.omgtu.ru'

  utter_ask_user_name:
    - text: 'Укажи свое имя, чтобы модератор мог связаться с тобой'

  utter_ask_description:
    - text: 'Опиши свою проблему'

  utter_ask_wish:
    - text: 'Ты можешь оставить свои идеи, пожелания и предложения, для нас это очень важно'
  
  utter_case:
    - text: 'Ознакомиться с доступными кейсами ты можете на сайте https://pei.omgtu.ru в разделе "СПИСОК И ОПИСАНИЕ КЕЙСОВ"'
  
  utter_busy:
    - text: 'Ты можешь подробней ознакомиться с расписанием мероприятий на сайте https://pei.omgtu.ru в разделе "МЕРОПРИЯТИЯ ИНТЕНСИВА". Мы предлагаем на выбор несколько мероприятий, хотя бы одно из них обязательно в вечернее время, возможно, это тебе подходит)'
  
  utter_start:
    - text: 'Приветствую тебя, человек!!! Меня зовут Интенсиша, я буду твоим помощником на время интенсива. Если у тебя возникли какие-нибудь вопросы, ты можешь задать их мне :)'


session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true